{"version":3,"sources":["assets/discover.svg","assets/dinners.svg","assets/mastercard.svg","assets/visa.svg","assets/chip.svg","App.js","index.js"],"names":["App","useState","cardSide","setCardSide","MasterLogo","cardFlag","setCardFlag","numberInput","setNumberInput","nameInput","setNameInput","monthInput","setMonthInput","yearInput","setYearInput","cvvInput","setCvvInput","lineFocus","setLineFocus","show","ok","text","alert","setAlert","postData","data","a","fetch","mode","method","body","JSON","stringify","headers","respose","json","masks","value","replace","flipCard","handleFocus","event","target","id","handleBlur","handleSubmit","preventDefault","number","name","date","cvv","field","details","path","document","querySelector","focus","className","role","src","Chip","alt","onSubmit","htmlFor","type","maxLength","onInput","substring","DiscoverLogo","VisaLogo","DinnersLogo","onFocus","onBlur","onChange","defaultValue","disabled","str","ReactDOM","render","StrictMode","getElementById"],"mappings":"wOAAe,MAA0B,qCCA1B,MAA0B,oCCA1B,MAA0B,uCCA1B,MAA0B,iCCA1B,MAA0B,iCC2Q1BA,MApQf,WAAgB,IAAD,EAEmBC,oBAAS,GAF5B,mBAENC,EAFM,KAEIC,EAFJ,OAGmBF,mBAASG,GAH5B,mBAGNC,EAHM,KAGIC,EAHJ,OAKyBL,mBAAS,IALlC,mBAKNM,EALM,KAKOC,EALP,OAMqBP,mBAAS,IAN9B,mBAMNQ,EANM,KAMKC,EANL,OAOuBT,mBAAS,IAPhC,mBAONU,EAPM,KAOMC,EAPN,OAQqBX,mBAAS,IAR9B,mBAQNY,EARM,KAQKC,EARL,OASmBb,mBAAS,IAT5B,mBASNc,EATM,KASIC,EATJ,OAWqBf,mBAAS,iBAX9B,mBAWNgB,EAXM,KAWKC,EAXL,OAaajB,mBAAS,CAAEkB,MAAM,EAAOC,IAAI,EAAOC,KAAM,KAbtD,mBAaNC,EAbM,KAaCC,EAbD,KAiBPC,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACOC,MAHZ,wBAGuB,CAC/BC,KAAM,OACNC,OAAQ,OACRC,KAAMC,KAAKC,UAAUP,GACrBQ,QAAS,CACP,eAAgB,sBANL,cACTC,EADS,yBASRA,EAAQC,QATA,2CAAH,sDAYRC,EAAQ,SACLC,GACL,OAAOA,EACJC,QAAQ,MAAO,IACfA,QAAQ,cAAe,SACvBA,QAAQ,cAAe,SACvBA,QAAQ,cAAe,UANxBF,EAAQ,SAQPC,GACH,OAAOA,EACJC,QAAQ,MAAO,KAiChBC,EAAW,WACLpC,GAAVD,IAGIsC,EAAc,SAAAC,GACK,gBAApBA,EAAMC,OAAOC,IACdzB,EAAa,eAEQ,cAApBuB,EAAMC,OAAOC,IACdzB,EAAa,aAEQ,SAApBuB,EAAMC,OAAOC,IAAqC,UAApBF,EAAMC,OAAOC,IAC5CzB,EAAa,cAIX0B,EAAa,WACjB1B,EAAa,kBAGT2B,EAAY,uCAAG,WAAOJ,GAAP,qBAAAf,EAAA,6DACnBe,EAAMK,iBACArB,EAAO,CACXsB,OAAQxC,EAAY+B,QAAQ,KAAM,IAClCU,KAAMvC,EACNwC,KAAMtC,EAAW,IAAIE,EACrBqC,IAAKnC,GANY,SASGS,EAASC,GATZ,cASbS,EATa,gBAUAA,EAVA,OAYP,OAFNC,EAVa,QAajBZ,EAAS,CAACJ,MAAM,EAAMC,IAAI,EAAMC,KAAM,mCAIzB,YAFP8B,EAAQhB,EAAKiB,QAAQtB,KAAK,GAAGuB,KAAK,MAGtC9B,EAAS,CAAEJ,MAAM,EAAMC,IAAI,EAAOC,KAAM,iDACxCiC,SAASC,cAAc,gBAAgBC,SAE5B,SAAVL,IACD5B,EAAS,CAAEJ,MAAM,EAAMC,IAAI,EAAOC,KAAM,kDACxCiC,SAASC,cAAc,cAAcC,SAE1B,SAAVL,IACD5B,EAAS,CAAEJ,MAAM,EAAMC,IAAI,EAAOC,KAAM,2BACxCiC,SAASC,cAAc,UAAUC,SAEtB,QAAVL,IACD5B,EAAS,CAAEJ,MAAM,EAAMC,IAAI,EAAOC,KAAM,iDACxCiC,SAASC,cAAc,QAAQC,UA/BhB,2CAAH,sDA8ClB,OACE,sBAAKC,UAAU,MAAf,UATE,qBACEA,UAAS,gBAAWnC,EAAMH,KAAK,SAAS,UAA/B,YAA4CG,EAAMF,GAAG,gBAAgB,gBAC9EsC,KAAK,QAFP,SAGGpC,EAAMD,OAUT,qBAAKoC,UAAU,cAAf,SACE,sBAAKA,UAAW,sBAAwBvD,EAAU,SAAU,IAA5D,UAEE,sBAAKuD,UAAU,oBAAf,UACE,qBAAKd,GAAG,eAAec,UAAWxC,IAElC,qBAAKwC,UAAU,OAAf,SAAsB,qBAAKE,IAAKC,EAAMC,IAAI,WAC1C,qBAAKJ,UAAU,OAAf,SAAsB,qBAAKE,IAAKtD,EAAUwD,IAAI,WAC9C,qBAAKJ,UAAU,SAAf,SAAyBlD,GAAwB,wBACjD,sBAAKkD,UAAU,OAAf,UAAsB,+CAAyBhD,GAAoB,eACnE,sBAAKgD,UAAU,OAAf,UAAsB,2CAAtB,UAA8C9C,GAAsB,KAApE,YAA4EE,GAAoB,YAGlG,sBAAK4C,UAAU,mBAAf,UACE,qBAAKA,UAAU,aACf,qBAAKA,UAAU,UAAf,SAA0B1C,GAAkB,QAC5C,qBAAK0C,UAAU,OAAf,SAAsB,qBAAKE,IAAKtD,EAAUwD,IAAI,mBAMpD,qBAAKJ,UAAU,iBAAf,SACE,uBAAMK,SAAUjB,EAAhB,UACE,sBAAKY,UAAU,aAAf,UACE,uBAAOM,QAAQ,cAAf,yBACA,uBAAOC,KAAK,OACVP,UAAU,+BACVd,GAAG,cACHsB,UAAU,KACV5B,MAAO9B,EACP2D,QAnIc,SAAAzB,GACxB,IAAMJ,EAAQI,EAAMC,OAAOL,MAC3B7B,EAAe4B,EAAaC,IAEF,MAAvBA,EAAM8B,UAAU,IAAY7D,EAAY8D,GACjB,MAAvB/B,EAAM8B,UAAU,IAAY7D,EAAYF,GACjB,MAAvBiC,EAAM8B,UAAU,IAAY7D,EAAY+D,GACjB,MAAvBhC,EAAM8B,UAAU,IAAY7D,EAAYgE,IA6HjCC,QAAS/B,EACTgC,OAAQ5B,OAGZ,sBAAKa,UAAU,aAAf,UACE,uBAAOM,QAAQ,YAAf,uBACA,uBAAOC,KAAK,OACZP,UAAU,+BACVd,GAAG,YACHN,MAAO5B,EACPyD,QApIc,SAAAzB,GACtB,IAAMJ,EAAQI,EAAMC,OAAOL,MAC3B3B,EAAa0B,EAAWC,KAmIhBkC,QAAS/B,EACTgC,OAAQ5B,OAGV,sBAAKa,UAAU,aAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,uBAAOM,QAAQ,QAAf,6BACA,yBAAQU,SAvIK,SAAAhC,GACvB7B,EAAc6B,EAAMC,OAAOL,QAuIfkC,QAAS/B,EACTgC,OAAQ5B,EACR8B,aAAa,QACbjB,UAAU,+BACVd,GAAG,QALL,UAOE,wBAAQN,MAAM,QAAQsC,UAAQ,EAA9B,mBACA,wBAAQtC,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,sBAGJ,qBAAKoB,UAAU,kBAAf,SACE,yBAAQgB,SA1JI,SAAAhC,GACtB3B,EAAa2B,EAAMC,OAAOL,QA0JdkC,QAAS/B,EACTgC,OAAQ5B,EACR8B,aAAa,OACbjB,UAAU,+BACVd,GAAG,OALL,UAOE,wBAAQN,MAAM,OAAOsC,UAAQ,EAA7B,kBACA,wBAAQtC,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,kBACA,wBAAQA,MAAM,KAAd,uBAGJ,sBAAKoB,UAAU,iBAAf,UACE,uBAAOM,QAAQ,MAAf,iBACA,uBAAOC,KAAK,OACZP,UAAU,+BACVd,GAAG,MACHsB,UAAU,IACV5B,MAAOtB,EACPmD,QAlLW,SAAAzB,GACrB,IAAImC,EAAMnC,EAAMC,OAAOL,MACvBuC,EAAMA,EAAItC,QAAQ,MAAO,IACzBtB,EAAY4D,IAgLFJ,OAAQjC,EACRgC,QAAShC,UAIb,wBAAQyB,KAAK,SACXP,UAAU,yBADZ,6BC5PVoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzB,SAAS0B,eAAe,W","file":"static/js/main.be25f8d2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/discover.89f06bb1.svg\";","export default __webpack_public_path__ + \"static/media/dinners.417160c5.svg\";","export default __webpack_public_path__ + \"static/media/mastercard.3777d8ea.svg\";","export default __webpack_public_path__ + \"static/media/visa.9f766811.svg\";","export default __webpack_public_path__ + \"static/media/chip.4293a0c5.svg\";","import React, { useState } from 'react';\nimport DiscoverLogo from './assets/discover.svg';\nimport DinnersLogo from './assets/dinners.svg';\nimport MasterLogo from './assets/mastercard.svg';\nimport VisaLogo from './assets/visa.svg';\nimport Chip from './assets/chip.svg';\n\nfunction App() {\n\n  const [cardSide, setCardSide] = useState(false);\n  const [cardFlag, setCardFlag] = useState(MasterLogo);\n\n  const [numberInput, setNumberInput] = useState(\"\");\n  const [nameInput, setNameInput] = useState(\"\");\n  const [monthInput, setMonthInput] = useState(\"\");\n  const [yearInput, setYearInput] = useState(\"\");\n  const [cvvInput, setCvvInput] = useState(\"\");\n\n  const [lineFocus, setLineFocus] = useState(\"focus-disable\");\n  \n  const [alert, setAlert] = useState({ show: false, ok: false, text: '' });\n\n  const url = 'http://localhost:5000';\n\n  const postData = async (data) => {\n    const respose = await fetch(url, {\n      mode: 'cors',\n      method: 'POST', \n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n    return respose.json();\n  }\n\n  const masks = {\n    number(value) {\n      return value\n        .replace(/\\D/g, '')\n        .replace(/(\\d{4})(\\d)/, '$1 $2')\n        .replace(/(\\d{4})(\\d)/, '$1 $2')\n        .replace(/(\\d{4})(\\d)/, '$1 $2')\n    },\n    name(value){\n      return value\n        .replace(/\\d/g, '')\n    }\n  }\n\n  const handleNumberInput = event => {\n    const value = event.target.value;\n    setNumberInput(masks.number(value));\n\n    if(value.substring(0) === \"6\") setCardFlag(DiscoverLogo);\n    if(value.substring(0) === \"5\") setCardFlag(MasterLogo);\n    if(value.substring(0) === \"4\") setCardFlag(VisaLogo);\n    if(value.substring(0) === \"3\") setCardFlag(DinnersLogo);\n  }\n\n  const handleNameInput = event => {\n    const value = event.target.value;\n    setNameInput(masks.name(value));\n  }\n\n  const handleMonthInput = event => {\n    setMonthInput(event.target.value);\n  }\n\n  const handleYearInput = event => {\n    setYearInput(event.target.value);\n  }\n\n  const handleCvvInput = event => {\n    let str = event.target.value;\n    str = str.replace(/\\D/g, '')\n    setCvvInput(str);\n  }\n\n  const flipCard = () => {\n    cardSide? setCardSide(false):setCardSide(true);\n  }\n\n  const handleFocus = event => {\n    if(event.target.id === \"card-number\"){\n      setLineFocus(\"numberFocus\");\n    }\n    if(event.target.id === \"card-name\"){\n      setLineFocus(\"nameFocus\");\n    }\n    if(event.target.id === \"year\" || event.target.id === \"month\"){\n      setLineFocus(\"dateFocus\");\n    }\n  }\n\n  const handleBlur = () => {\n    setLineFocus(\"focus-disable\")\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const data = {\n      number: numberInput.replace(/ /g, \"\"),\n      name: nameInput,\n      date: monthInput+'/'+yearInput,\n      cvv: cvvInput\n    }\n\n    const respose = await postData(data);\n    const json = await respose\n\n    if(json === 200){\n      setAlert({show: true, ok: true, text: 'Card successfully registered!'})\n    }else{\n      const field = json.details.body[0].path[0];\n\n      if(field === \"number\"){\n        setAlert({ show: true, ok: false, text: 'Your Card Number field must have 16 numbers.' })\n        document.querySelector(\"#card-number\").focus()\n      }\n      if(field === \"name\"){\n        setAlert({ show: true, ok: false, text: 'Your Name field must have at least 5 letters.' })\n        document.querySelector(\"#card-name\").focus()\n      }\n      if(field === \"date\"){\n        setAlert({ show: true, ok: false, text: 'Date field is invalid.' })\n        document.querySelector(\"#month\").focus()\n      }\n      if(field === \"cvv\"){\n        setAlert({ show: true, ok: false, text: 'Your CVV field must have at least 3 numbers.' })\n        document.querySelector(\"#cvv\").focus()\n      }\n    }\n  }\n\n  const createAlert = () => {\n    return(\n      <div \n        className={`alert ${alert.show?\"active\":\"disable\"} ${alert.ok?\"alert-success\":\"alert-danger\"}`}\n        role=\"alert\">\n        {alert.text}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n\n      {createAlert()}\n\n      <div className=\"credit-card\">\n        <div className={\"credit-card-inner \" + (cardSide? \"toggle\": '')}>\n\n          <div className=\"credit-card-front\">\n            <div id=\"focus-border\" className={lineFocus}></div>\n\n            <div className=\"chip\"><img src={Chip} alt=\"chip\"/></div>\n            <div className=\"type\"><img src={cardFlag} alt=\"flag\"/></div>\n            <div className=\"number\">{numberInput?numberInput:'#### #### #### ####'}</div>\n            <div className=\"name\"><span>Card Holder</span>{nameInput?nameInput:\"Some Body\"}</div>\n            <div className=\"date\"><span>Expires</span>{`${monthInput?monthInput:'MM'}/${yearInput?yearInput:'YY'}`}</div>\n          </div>\n\n          <div className=\"credit-card-back\">\n            <div className=\"dark-bar\"></div>\n            <div className=\"cvv-bar\">{cvvInput?cvvInput:'###'}</div>\n            <div className=\"type\"><img src={cardFlag} alt=\"flag\"/></div>\n          </div>\n\n        </div>\n      </div>\n\n      <div className=\"form-container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"card-number\">Card Number</label>\n            <input type=\"text\" \n              className=\"form-control form-control-lg\" \n              id=\"card-number\" \n              maxLength=\"19\"\n              value={numberInput}\n              onInput={handleNumberInput}\n              onFocus={handleFocus}\n              onBlur={handleBlur}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"card-name\">Card Name</label>\n            <input type=\"text\" \n            className=\"form-control form-control-lg\" \n            id=\"card-name\"\n            value={nameInput}\n            onInput={handleNameInput}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            />\n          </div>\n          <div className=\"bottom-row\">\n            <div className=\"form-group month\">\n              <label htmlFor=\"month\">Expiration Date</label>\n              <select onChange={handleMonthInput}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n                defaultValue=\"Month\" \n                className=\"form-control form-control-lg\" \n                id=\"month\"\n              >\n                <option value=\"Month\" disabled>Month</option>\n                <option value=\"01\">01</option>\n                <option value=\"02\">02</option>\n                <option value=\"03\">03</option>\n                <option value=\"04\">04</option>\n                <option value=\"05\">05</option>\n                <option value=\"06\">06</option>\n                <option value=\"07\">07</option>\n                <option value=\"08\">08</option>\n                <option value=\"09\">09</option>\n                <option value=\"10\">10</option>\n                <option value=\"11\">11</option>\n                <option value=\"12\">12</option>\n              </select>\n            </div>\n            <div className=\"form-group year\">\n              <select onChange={handleYearInput}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n                defaultValue=\"Year\"\n                className=\"form-control form-control-lg\" \n                id=\"year\"\n              >\n                <option value=\"Year\" disabled>Year</option>\n                <option value=\"20\">2020</option>\n                <option value=\"21\">2021</option>\n                <option value=\"22\">2022</option>\n                <option value=\"23\">2023</option>\n                <option value=\"24\">2024</option>\n                <option value=\"25\">2025</option>\n                <option value=\"26\">2026</option>\n                <option value=\"27\">2027</option>\n                <option value=\"28\">2028</option>\n                <option value=\"29\">2029</option>\n                <option value=\"30\">2030</option>\n              </select>\n            </div>\n            <div className=\"form-group cvv\">\n              <label htmlFor=\"cvv\">CVV</label>\n              <input type=\"text\" \n              className=\"form-control form-control-lg\" \n              id=\"cvv\"\n              maxLength=\"4\"\n              value={cvvInput}\n              onInput={handleCvvInput} \n              onBlur={flipCard} \n              onFocus={flipCard}\n              />\n            </div>\n          </div>\n          <button type=\"submit\"\n            className=\"btn btn-primary btn-lg\"\n           >Submit</button>\n        </form>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}